Title: Створюємо локальний репозиторій з завантажених DEB пакетів
Date: 2016-02-24
Slug: local-repository-for-debian
Summary: 
Category: Linux
Lang: uk
Image: /images/package.png
Tags: debian, linux, deb, apt

Під час користування Debian іноді виникає необхідність встановити, цілу пачку зкачаних чи зібраних
пакетів, користуватись для цього `dpkg -i *.deb` м’яко кажучи не зручно, оскільки часто виникає
"depenency hell" та і Apt-Pinning не виставиш. Для вирішення цієї проблеми ідеально підходить
локальний репозиторій пакетів, який буде додано в sources.list і робота з ним нічим не буде
відрізнятися від звичайного.

Для початку потібно створити папку репозиторія, для зручності зробимо її прихованою щоб не мозолила 
очей.
	
	REPO_PATH=$HOME/.repository/$(lsb_release -cs) && \
    mkdir -p $REPO_PATH/pool/ && \
	cd $REPO_PATH

Скопіюємо наші пакети в папку репозиторія:
	
	cp -r ~/ВАША_ПАПКА_З_ПАКЕТАМИ/*.deb .

Тепер треба просканувати наявні пакети:

    dpkg-scanpackages pool /dev/null | gzip -c9 > $REPO_PATH/pool/Packages.gz
	

Репозиторій готовий, залишилось його підключити:

    echo deb file:'$REPO_PATH pool/' | sudo tee -a /etc/apt/sources.list
	
Власне це все, якщо знадобиться додати нові пакети, скопіюйте їх у упапку вашого репозиторію, та
виконайте повторне пересканування.
